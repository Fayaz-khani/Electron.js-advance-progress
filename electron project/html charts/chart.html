<html>

<head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/1.0.2/Chart.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.5.3/jspdf.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.3.js"></script>
</head>

<body>
    <canvas id="myChart" width="400" height="400"></canvas>
    <button onclick="downloadcanvas2()">
        Download
    </button>


    <script>
        var mydata = null;
//         document.write("data is here")
//         var date = new Date();
//         function readJSON(path) { 
//     var xhr = new XMLHttpRequest(); 
//     xhr.open('GET', "./my_json_file.json", true); 
//     xhr.responseType = 'blob'; 
//     xhr.onload = function(e) {  
//       if (this.status == 200) { 
//           var file = new File([this.response], 'temp'); 
//           var fileReader = new FileReader(); 
//           fileReader.addEventListener('load', function(){ 
//                //do stuff with fileReader.result 
//                document.write("data is here")
//     xhr.send(); 
// } 
        // var fs = require('fs');
        // var json = require('./my_json_file.json'); //with path
        // import data from './my_json_file.json' assert { type: 'JSON' };
        //         fs.readFile('./my_json_file.json', (err, data) => {
        //     if (err)
        //       console.log(err);
        //     else {
        //       var json = JSON.parse(data);
        //     //your code using json object
        //     console.log(json)
        //     }
        // })

        // fetch("./template_file.json")
        //     .then(response => {
        //         return response.json();
        //     })
        //     .then(data => {
        //         console.log(data.Categories)
        //         mydata = data.Categories;
        //         console.log("this is " + mydata)
        //         console.log("now " + mydata)

        //         var ctx = document.getElementById("myChart").getContext("2d");
        //         var myNewChart = new Chart(ctx).PolarArea(mydata);
        //     });


        var data = [

            {
                value: 20,
                color: "blue",
                highlight: "darkblue",
                label: "Physical Health"
            },
            {
                value: 20,
                color: "#46BFBD",
                highlight: "#5AD3D1",
                label: "Mental Health"
            },
            {
                value: 10,
                color: "#FDB45C",
                highlight: "#FFC870",
                label: "Emotional Health"
            },
            {
                value: 20,
                color: "#949FB1",
                highlight: "#A8B3C5",
                label: "Social Health"
            },
            {
                value: 22,
                color: "#4D5360",
                highlight: "#616774",
                label: "spiritual Health"

            },
            {
                value: 22,
                color: "pink",
                highlight: "pink",
                label: "intellectual Health"
            }
        ];
        var ctx = document.getElementById("myChart").getContext("2d");
                var myNewChart = new Chart(ctx).PolarArea(data);

        function downloadcanvas() {
            var imagelink = document.createElement('a');
            var canvas = document.getElementById("myChart");
            imagelink.download = 'Life  Baclance Wheel';
            imagelink.href = canvas.toDataURL('image.png', 1);
            imagelink.click();
        }
        function downloadcanvas2() {
            var dataofPDF = this.mydata;
            console.log(dataofPDF)
            const today = new Date()
            const year = today.getFullYear()
            const month = today.getMonth()
            const day = today.getDate()


            var canvas = document.getElementById("myChart");
            var canvasImage = canvas.toDataURL('image.png', 1.5);

            let pdf = new jsPDF();
            pdf.setFontSize(10);
            pdf.text("Life Balance Wheel", 10, 15);
            pdf.setFontSize(10);
            // pdf.text(dataofPDF[0], 40, 25);
            pdf.text("Client's Name _________________", 140, 15);
            pdf.text("Preperer's Name _______________", 140, 25);

            pdf.setFontSize(25);
            pdf.text("Life Balance Wheel", 65, 50);
            pdf.addImage(canvasImage, 'JPEG', 50, 65);
            pdf.setFontSize(8);
            pdf.text("All Meterials @ Reimagine Life, LLC 2022 TO  Life Rose @ Reimagine Life, LLC 2023", 40, 290);
            pdf.setFontSize(12);
            pdf.text("Prepared By _________________", 140, 260);
            pdf.text("Date:  " + (day) + "/" + (month + 1) + "/" + year, 140, 270);
            pdf.save('lifeBalanceWheel.pdf')

        };


    </script>
</body>

</html>
<style>

</style>